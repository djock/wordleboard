@using wordleboard.Utils;
@model UserBoardsViewModel

@{
    ViewData["Title"] = "Home Page";

    Console.WriteLine(Model.UserBoards.Count());
}

@*
    @section header {
    <partial name="_Header" />
}
*@

<partial name="_TodayWordleInfo" />

@if (Model.TodayWordle.Points == 0)
{
    <form asp-controller="Home" asp-action="Index" method="post" role="form">
        <h4>Submit Score for today</h4>

        <div class="row g-3 align-items-center">

            <div class="col-auto form-floating mb-2">
                <input type="number" name="points" min="0" max="10" class="form-control" placeholder="Points">
                <label for="points">Points</label>
            </div>

            <div class="col-auto form-floating mb-2">
                <input type="number" name="bonus" min="0" max="5" class="form-control" placeholder="Points">
                <label for="bonus">Bonus</label>
            </div>

            <div class="col-auto">
                <button type="submit" class="btn btn-primary mb-2">Submit</button>
            </div>
        </div>
    </form>
}
else
{
    <h4>Score for today: @Model.TodayWordle.Points</h4>
}
<br />


@if (Model.UserBoards.Count() != 0)
{
    <div class="container">
        <div class="row">
            @foreach (var board in Model.UserBoards)
            {
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-header">
                            @board.BoardName
                        </div>
                        <div class="card-body">
                            <h5 id="card-text" class="card-text">@board.BoardDescription</h5>
                            <h6 class="card-text">Start date: @AppUtils.FormatDate(board.StartDate)</h6>
                            <a asp-controller="Board" asp-action="Index" asp-route-id="@board.BoardId" class="btn btn-primary">Open</a>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
}
else
{
    <p>You are not taking part in any leaderboard at the moment, create one to get started</p>
    <a class="btn btn-lg btn-primary" id="register" asp-area="" asp-controller="Home" asp-action="CreateBoard">Create Board</a>
}
